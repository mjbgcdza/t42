<!doctypehtml><html lang=th><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ระบบให้ทิปพนักงาน</title><meta name=description content="ชอบพนักงานคนไหน ก็ให้คนนั้นเลย"><meta name=author content="Tips System"><meta property=og:title content="Tips Happy"><meta property=og:description content="ชอบพนักงานคนไหน ก็ให้คนนั้นเลย"><meta property=og:type content=website><meta property=og:image content=https://lh3.googleusercontent.com/d/1yXn_V_Uq0vcTqk8ZwYZLBMZaqMlDZ1Za><script src=https://cdn.jsdelivr.net/npm/sweetalert2@11></script><script charset=utf-8 src=https://static.line-scdn.net/liff/edge/2/sdk.js></script><link rel=stylesheet href=https://bit.ly/fontiton5 charset=utf-8><script src=https://cdn.tailwindcss.com></script><style>:root{--color-cream:#f9dbbd;--color-peach:#fca17d;--color-pink:#da627d;--color-purple:#9a348e;--color-dark:#0d0628}body{font-family:line_seed_sans_th;background-color:var(--color-dark);color:#fff;overflow-x:hidden}.gradient-bg{background:linear-gradient(135deg,var(--color-purple),var(--color-dark))}.btn-primary{background-color:var(--color-pink);transition:all .3s cubic-bezier(.175, .885, .32, 1.275)}.btn-primary:hover{background-color:var(--color-purple);transform:translateY(-2px) scale(1.02);box-shadow:0 10px 20px rgba(218,98,125,.3)}.btn-primary:active{transform:translateY(0) scale(.98)}.btn-disabled{background-color:#888;cursor:not-allowed;opacity:.7}.staff-card{background:linear-gradient(135deg,var(--color-cream) 0,var(--color-peach) 100%);border-radius:16px;overflow:hidden;transition:all .4s cubic-bezier(.175, .885, .32, 1.275);transform:translateY(0);box-shadow:0 4px 20px rgba(0,0,0,.15);position:relative}.staff-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 15px 30px rgba(0,0,0,.25)}.staff-card:active{transform:translateY(-4px) scale(.98)}.staff-img{border:3px solid #fff;box-shadow:0 4px 10px rgba(0,0,0,.1);transition:all .5s ease}.staff-card:hover .staff-img{transform:scale(1.05);box-shadow:0 8px 20px rgba(0,0,0,.2)}.tip-amount{background-color:var(--color-peach);transition:all .3s cubic-bezier(.175, .885, .32, 1.275);position:relative;overflow:hidden}.tip-amount:before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(255,255,255,.2);border-radius:50%;transform:translate(-50%,-50%);transition:width .6s,height .6s}.tip-amount:hover:before{width:300px;height:300px}.tip-amount.active,.tip-amount:hover{background-color:var(--color-pink);transform:scale(1.05);box-shadow:0 5px 15px rgba(218,98,125,.3)}.tip-amount.active{box-shadow:0 0 0 3px rgba(255,255,255,.5)}.modal{background-color:rgba(13,6,40,.85);backdrop-filter:blur(8px);transition:all .4s cubic-bezier(.19, 1, .22, 1)}.modal-content{background:linear-gradient(135deg,var(--color-cream) 0,var(--color-peach) 100%);border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,.25);transform:translateY(20px) scale(.95);opacity:0;transition:all .5s cubic-bezier(.19, 1, .22, 1)}.modal.show .modal-content{transform:translateY(0) scale(1);opacity:1}.success-checkmark{width:80px;height:80px;margin:0 auto;animation:checkmark .8s cubic-bezier(.42,0,.58,1) forwards}@keyframes checkmark{0%{transform:scale(0) rotate(-45deg);opacity:0}50%{transform:scale(1.2) rotate(10deg)}100%{transform:scale(1) rotate(0);opacity:1}}.pulse{animation:pulse 1.5s infinite}@keyframes pulse{0%{transform:scale(.95);box-shadow:0 0 0 0 rgba(252,161,125,.7)}70%{transform:scale(1);box-shadow:0 0 0 15px rgba(252,161,125,0)}100%{transform:scale(.95);box-shadow:0 0 0 0 rgba(252,161,125,0)}}.fade-in{animation:fadeIn .6s cubic-bezier(.19,1,.22,1) forwards;opacity:0}@keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.loading-spinner{width:40px;height:40px;border:4px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin 1s ease-in-out infinite}.button-spinner{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin .8s linear infinite;display:inline-block;vertical-align:middle;margin-right:8px}@keyframes spin{to{transform:rotate(360deg)}}.tab{transition:all .3s ease;position:relative;overflow:hidden}.tab:before{content:'';position:absolute;bottom:0;left:50%;width:0;height:3px;background-color:var(--color-pink);transition:all .3s ease;transform:translateX(-50%)}.tab:hover:before{width:30%}.tab.active:before{width:80%}.history-item{transition:all .4s cubic-bezier(.19, 1, .22, 1);border-left:0 solid var(--color-pink)}.history-item:hover{transform:translateX(5px);border-left:4px solid var(--color-pink);box-shadow:0 5px 15px rgba(0,0,0,.1)}.confetti{position:absolute;width:10px;height:10px;background-color:red;opacity:0}@keyframes confetti-fall{0%{transform:translateY(-100px) rotate(0);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}.floating{animation:floating 3s ease-in-out infinite}@keyframes floating{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}.scale-in{animation:scaleIn .5s cubic-bezier(.19,1,.22,1) forwards}@keyframes scaleIn{from{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.shimmer{background:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 50%,rgba(255,255,255,0) 100%);background-size:200% 100%;animation:shimmer 1.5s infinite}@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}.glow{box-shadow:0 0 10px var(--color-pink);animation:glow 2s infinite alternate}@keyframes glow{from{box-shadow:0 0 10px var(--color-pink)}to{box-shadow:0 0 20px var(--color-pink),0 0 30px var(--color-peach)}}.coin{width:60px;height:60px;background:linear-gradient(45deg,gold,#fc0);border-radius:50%;position:relative;box-shadow:0 5px 15px rgba(255,215,0,.3);display:flex;align-items:center;justify-content:center;font-weight:700;color:#a67c00;transform-style:preserve-3d;perspective:1000px}.coin-flip{animation:coinFlip 1s ease-out forwards;transform-style:preserve-3d}@keyframes coinFlip{0%{transform:rotateY(0) translateY(0)}40%{transform:rotateY(180deg) translateY(-40px)}60%{transform:rotateY(360deg) translateY(-40px)}100%{transform:rotateY(720deg) translateY(0)}}.ripple{position:absolute;border-radius:50%;background:rgba(255,255,255,.4);transform:scale(0);animation:ripple .6s linear}@keyframes ripple{to{transform:scale(4);opacity:0}}.custom-amount-container{position:relative;overflow:hidden;border-radius:8px}.custom-amount-container::after{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(to right,rgba(255,255,255,0) 0,rgba(255,255,255,.3) 50%,rgba(255,255,255,0) 100%);transform:rotate(30deg);animation:shimmerEffect 3s infinite}@keyframes shimmerEffect{from{transform:rotate(30deg) translateX(-100%)}to{transform:rotate(30deg) translateX(100%)}}.staff-profile-img-container{position:relative;width:100%;height:100%;padding-bottom:100%;overflow:hidden;border-radius:16px 16px 0 0}.staff-profile-img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:fit;transition:transform .5s ease}.staff-profile-img:hover{transform:scale(1.05)}.staff-profile-overlay{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,.8) 0,rgba(0,0,0,0) 100%);padding:30px 20px 15px}.staff-badge{position:absolute;top:16px;right:16px;background-color:var(--color-pink);color:#fff;padding:5px 10px;border-radius:20px;font-size:12px;font-weight:600;box-shadow:0 4px 8px rgba(0,0,0,.2);z-index:10;transform:rotate(5deg)}.staff-profile-content{position:relative;z-index:10}.quote-icon{position:absolute;opacity:.1;font-size:120px;line-height:0;z-index:0}.quote-left{top:-20px;left:-10px}.quote-right{bottom:-60px;right:-10px}.staff-bio{position:relative;z-index:1;font-style:italic;line-height:1.6}.zoom-in{animation:zoomIn .4s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes zoomIn{from{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}</style><body class=min-h-screen><div id=app class="max-w-md mx-auto pb-20"><div id=loading class="fixed inset-0 flex items-center justify-center z-50 gradient-bg"><div class=text-center><div class="loading-spinner mx-auto mb-4"></div><p class="text-white text-lg">กำลังโหลด...<div class="mt-3 w-48 h-2 bg-white bg-opacity-20 rounded-full mx-auto overflow-hidden"><div class="h-full bg-white shimmer rounded-full"style=width:0% id=loadingBar></div></div></div></div><div id=confetti-container class="fixed inset-0 pointer-events-none z-40"></div><header class="p-4 gradient-bg shadow-lg"><div class="flex items-center justify-between"><h1 class="text-2xl font-bold text-white flex items-center"><svg class="w-8 h-8 mr-2"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule=evenodd d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"clip-rule=evenodd></path></svg>Happy Tips</h1><div id=userProfile class="flex items-center space-x-2"><img id=userImg src=""alt=User class="w-10 h-10 rounded-full border-2 border-white object-cover"><span id=userName class="text-sm font-medium text-white"></span></div></div></header><main class=p-4><div id=tabContainer class="flex border-b border-gray-700 mb-6"><button id=customerTab class="tab active flex-1 py-3 text-center text-white font-medium"><svg class="w-5 h-5 inline-block mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"></path></svg>ให้ทิป</button><button id=staffTab class="tab flex-1 py-3 text-center text-white font-medium"><svg class="w-5 h-5 inline-block mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z"clip-rule=evenodd></path></svg>สำหรับพนักงาน</button></div><div id=customerView class=fade-in><div class=mb-6><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-white flex items-center"><svg class="w-6 h-6 mr-2"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"></path></svg>เลือกพนักงานที่ต้องการให้ทิป</h2><button id=refreshStaffBtn class="p-2 rounded-full hover:bg-white hover:bg-opacity-10 transition-all"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd></path></svg></button></div><div id=staffList class="grid grid-cols-2 gap-4"><div class="flex justify-center items-center col-span-2 py-10"><div class=loading-spinner></div></div></div></div></div><div id=staffView class="hidden fade-in"><div class="bg-opacity-20 bg-white rounded-xl p-4 mb-6 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-10"></div><h2 class="text-xl font-semibold mb-2 text-white flex items-center relative z-10"><svg class="w-6 h-6 mr-2"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"clip-rule=evenodd></path></svg>ข้อมูลของคุณ</h2><div class="flex items-center space-x-4 relative z-10"><div class=relative><img id=staffProfileImg src=https://lh3.googleusercontent.com/d/1Ck_OCfEW4dEp3A1k9yfQplYmW7qmwzFF alt=Staff class="w-16 h-16 rounded-full border-2 border-white object-cover"><div class="absolute -bottom-1 -right-1 bg-green-500 w-5 h-5 rounded-full border-2 border-white flex items-center justify-center"><svg class="w-3 h-3 text-white"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg></div></div><div><p id=staffProfileName class="font-medium text-white"><p class="text-sm text-gray-300">รหัสพนักงาน:<span id=staffProfileId></span></div></div><div class="mt-4 bg-opacity-20 bg-white rounded-lg p-3 relative z-10"><div class="flex justify-between items-center"><p class="text-white flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"clip-rule=evenodd></path></svg>ทิปทั้งหมด<p id=totalTips class="text-xl font-bold text-white">0 บ.</div></div></div><div class="flex items-center justify-between mb-3"><h3 class="text-lg font-semibold text-white flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"clip-rule=evenodd></path></svg>ประวัติการรับทิป</h3><button id=refreshTipsBtn class="p-2 rounded-full hover:bg-white hover:bg-opacity-10 transition-all"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"clip-rule=evenodd></path></svg></button></div><div id=tipHistory class=space-y-3><p class="text-center text-gray-400 py-6">ไม่มีประวัติการรับทิป</div></div></main></div><div id=staffProfileModal class="fixed inset-0 modal hidden z-50 flex items-center justify-center p-4"><div class="modal-content w-full max-w-md overflow-hidden rounded-2xl"><div class=staff-profile-img-container><img id=staffProfileDetailImg src=""alt=Staff class=staff-profile-img><div class=staff-badge>พนักงาน</div><div class=staff-profile-overlay><h3 id=staffProfileDetailName class="text-xl font-bold text-white mb-1"></h3><p id=staffProfileDetailPosition class="text-sm text-white opacity-80"></div></div><div class="bg-white p-6"><div class="relative mb-6"><div class="quote-icon quote-left">"</div><div class="quote-icon quote-right">"</div><p id=staffProfileDetailBio class="staff-bio text-gray-700"></div><div class="flex space-x-3"><button id=closeStaffProfile class="flex-1 py-3 bg-gray-300 hover:bg-gray-400 rounded-lg font-medium transition-all">ปิด</button><button id=tipStaffFromProfile class="flex-1 py-3 btn-primary text-white rounded-lg font-medium flex items-center justify-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"clip-rule=evenodd></path></svg>ให้ทิป</button></div></div></div></div><div id=tipModal class="fixed inset-0 modal hidden z-50 flex items-center justify-center p-4"><div class="modal-content w-full max-w-md p-6 text-gray-800"><div class="text-center mb-4"><h3 class="text-xl font-bold text-gray-800">ให้ทิปพนักงาน</h3><p class=text-gray-600>คุณกำลังให้ทิปแก่<span id=selectedStaffName class=font-medium></span></div><div class="flex items-center justify-center mb-6"><div class=relative><img id=selectedStaffImg src=""alt=Staff class="w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover"><div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-pink-500 text-white px-3 py-1 rounded-full text-xs font-medium">พนักงาน</div></div></div><div class=mb-4><p id=selectedStaffCaption class="text-gray-600 text-center italic"></div><div class=mb-6><p class="text-gray-700 mb-2 font-medium flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"clip-rule=evenodd></path></svg>เลือกจำนวนทิป<div class="grid grid-cols-3 gap-3"><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=20>20 บ.</button><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=50>50 บ.</button><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=100>100 บ.</button><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=200>200 บ.</button><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=500>500 บ.</button><button class="tip-amount py-3 rounded-lg font-medium text-white"data-amount=1000>1,000 บ.</button></div><div class="mt-4 custom-amount-container"><label class="text-gray-700 font-medium flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"clip-rule=evenodd></path></svg>หรือระบุจำนวนเอง</label><div class="relative mt-1"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-700 font-medium">฿</span><input type=number id=customAmount class="w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all"placeholder=ระบุจำนวนเงิน></div></div></div><div class="flex space-x-3"><button id=cancelTip class="flex-1 py-3 bg-gray-300 hover:bg-gray-400 rounded-lg font-medium transition-all">ยกเลิก</button><button id=confirmTip class="flex-1 py-3 btn-primary text-white rounded-lg font-medium flex items-center justify-center"><span>ยืนยัน</span></button></div></div></div><div id=successModal class="fixed inset-0 modal hidden z-50 flex items-center justify-center p-4"><div class="modal-content w-full max-w-md p-6 text-center"><div id=coinContainer class="flex justify-center mb-4"><div class=coin><span id=coinAmount>฿</span></div></div><div class="success-checkmark text-green-500 mb-4"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor><path d="M0 0h24v24H0V0z"fill=none /><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/></svg></div><h3 class="text-xl font-bold text-gray-800 mb-2">ขอบคุณสำหรับทิป!</h3><p class="text-gray-600 mb-6">คุณได้ให้ทิป<span id=tipAmount class=font-medium></span>บาท แก่<span id=tippedStaffName class=font-medium></span></p><button id=closeSuccess class="w-full py-3 btn-primary text-white rounded-lg font-medium">ตกลง</button></div></div><div id=tipDetailModal class="fixed inset-0 modal hidden z-50 flex items-center justify-center p-4"><div class="modal-content w-full max-w-md p-6 text-gray-800"><div class="text-center mb-4"><h3 class="text-xl font-bold text-gray-800">รายละเอียดทิป</h3></div><div class="flex items-center space-x-4 mb-6"><div class=relative><img id=tipperImg src=""alt=Tipper class="w-16 h-16 rounded-full border-2 border-white shadow object-cover"><div class="absolute -bottom-1 -right-1 bg-blue-500 w-5 h-5 rounded-full border-2 border-white flex items-center justify-center"><svg class="w-3 h-3 text-white"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd></path></svg></div></div><div><p id=tipperName class=font-medium><p class="text-gray-600 text-sm">ผู้ให้ทิป</div></div><div class="bg-white bg-opacity-50 rounded-lg p-4 mb-6"><div class="flex justify-between items-center"><p class="text-gray-700 flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"clip-rule=evenodd></path></svg>จำนวนทิป<p id=tipDetailAmount class="text-xl font-bold text-gray-800">฿0</div><div class="flex justify-between items-center mt-2"><p class="text-gray-700 flex items-center"><svg class="w-5 h-5 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"clip-rule=evenodd></path></svg>วันที่<p id=tipDetailDate class=text-gray-800></div></div><button id=closeTipDetail class="w-full py-3 btn-primary text-white rounded-lg font-medium">ปิด</button></div></div><script>const _0x4e4160=_0x48e2;!function(t,e){const n=_0x48e2,s=_0x33a8();for(;;)try{if(969486===-parseInt(n(334))/1*(-parseInt(n(323))/2)+parseInt(n(228))/3*(-parseInt(n(274))/4)+parseInt(n(394))/5*(parseInt(n(372))/6)+parseInt(n(310))/7+-parseInt(n(265))/8*(parseInt(n(283))/9)+parseInt(n(335))/10*(-parseInt(n(250))/11)+-parseInt(n(286))/12)break;s.push(s.shift())}catch(t){s.push(s.shift())}}();let lineProfile=null,staffList=[],selectedStaff=null,selectedAmount=0,userTips=[],isStaff=!1,staffData=null,isSubmitting=!1;function _0x33a8(){const t=["isLoggedIn","animationDelay","POST","getFullYear","getElementById","ส่งเข้าแชทเรียบร้อย","opacity 0.5s ease, transform 0.5s ease","show","cancelTip",'<div class="button-spinner"></div> กำลังดำเนินการ...',"opacity 0.5s ease","hidden","retryTipsBtn","isInClient",'\n                    <div class="flex justify-between items-center">\n                        <div class="flex items-center space-x-3">\n                            <img src="',"toLocaleString","backgroundColor","alert","7813510ZfFtsI","staffProfileDetailPosition","reduce","action=checkStaff&userId=","init","staffProfileDetailBio",'\n                    <div class="text-center py-10 bg-white bg-opacity-5 rounded-lg">\n                        <svg class="w-16 h-16 mx-auto text-gray-400 mb-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v14l3.5-2 3.5 2 3.5-2 3.5 2V4a2 2 0 00-2-2H5zm4.707 3.707a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L8.414 9H10a3 3 0 013 3v1a1 1 0 102 0v-1a5 5 0 00-5-5H8.414l1.293-1.293z" clip-rule="evenodd"></path>\n                        </svg>\n                        <p class="text-gray-400">ไม่มีประวัติการรับทิป</p>\n                    </div>\n                ',"Error fetching staff list:",'" \n                                alt="',"getDate","btn-disabled","getMonth","refreshStaffBtn","length","staffProfileId","Error loading staff tips:","getBoundingClientRect","s linear forwards","left","staffProfileModal","th-TH","innerHTML","src","DOMContentLoaded","loadingBar","input","position","coinAmount","selectedStaffName",".modal","info","Failed to send message ","29181srMzKx","tipDetailDate","closeTipDetail",".tip-amount"," บ.</p>\n                    </div>\n                ","error","zoom-in","sendMessages","warning","toString","forEach","https://img.icons8.com/?size=100&id=K0whyGdxP7Ht&format=png&color=000000","userImg","#3b82f6","tipperName","max","กรุณาเลือกจำนวนทิป","numeric","application/x-www-form-urlencoded","querySelector","clientY",'\n                    <div class="p-4 text-center">\n                        <div class="flex justify-center mb-3">\n                            <img src="',"26763ZjJjGC","appendChild","json","Error submitting tip:","index","remove","#fca17d","value","parse","className","staff-card cursor-pointer opacity-0","createElement","log","active","retryBtn","5281072xQXzLs","tipperImg","tipHistory","displayName","totalTips","caption","tipDetailModal","bio","height","388otIgFz","เกิดข้อผิดพลาดในการโหลดแอป กรุณาลองใหม่อีกครั้ง","stopTimer","currentTarget","classList","target",'\n                    <div class="flex justify-center items-center col-span-2 py-10">\n                        <div class="loading-spinner"></div>\n                    </div>\n                ',"add","catch","9ZdkMZJ","userId","onmouseleave","13680912aFfnTG","none","staffProfileImg","clientX","confetti-container","isStaff","top","then","#f59e0b","staffView","random","getProfile","customAmount","addEventListener","tippedStaffName","#ef4444","#da627d","selectedStaffCaption","staff","coin-flip",'" \n                                class="w-20 h-20 rounded-full staff-img object-cover">\n                        </div>\n                        <h3 class="font-medium text-gray-800">',"tips","amount",'\n                    <div class="text-center py-8">\n                        <p class="text-red-400">เกิดข้อผิดพลาดในการโหลดประวัติทิป</p>\n                        <button id="retryTipsBtn" class="mt-3 px-4 py-2 bg-pink-600 rounded-lg text-white">ลองใหม่</button>\n                    </div>\n                ',"10664780xMKNlK","staffList","fire","confetti-fall ","body",'\n                    <div class="col-span-2 text-center py-8">\n                        <p class="text-gray-400">ไม่พบรายชื่อพนักงาน</p>\n                    </div>\n                ',"พนักงานบริการ","mixin","getHours","getMinutes","querySelectorAll","name","tipAmount","4194caIgYc","getDecodedIDToken","click","timestamp","เกิดข้อผิดพลาดในการให้ทิป กรุณาลองใหม่อีกครั้ง","animation","tipper","userName",'</p>\n                    </div>\n                    <div class="bg-pink-600 text-white py-2 text-center font-medium flex items-center justify-center">\n                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>\n                            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path>\n                        </svg>\n                        ดูโปรไฟล์\n                    </div>\n                ',"loading","textContent","777rKNyDe","4120lgVsbg","staffData","shareTargetPicker","confirmTip","tipModal","successModal","pictureUrl",'\n                    <div class="col-span-2 text-center py-8">\n                        <p class="text-red-400">เกิดข้อผิดพลาดในการโหลดรายชื่อพนักงาน</p>\n                        <button id="retryBtn" class="mt-3 px-4 py-2 bg-pink-600 rounded-lg text-white">ลองใหม่</button>\n                    </div>\n                ',"staffProfileName","div","padStart","100%","style","closeStaffProfile","refreshTipsBtn","fadeIn 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards ","<span>ยืนยัน</span>","tipStaffFromProfile","#10b981",'</p>\n                                <p class="text-xs text-gray-300">',"https://script.google.com/macros/s/AKfycbzvpXuZ_fX--5kKk7ZM0BlLPnDSSpu-gk48QtRoZVH9twpkT2z_xNOFxOhNCUZ2jxsqSQ/exec","login","customerView","width","picture","display","staffProfileDetailImg","opacity","promptpay","TargetPicker was closed!","dataset","customerTab","translate(-50%, 20px)","onmouseenter","top-end","tipDetailAmount","transition","6SIduYu","action=getStaffTips&staffId=","success"," บ."];return(_0x33a8=function(){return t})()}function simulateLoadingProgress(){const t=_0x4e4160,e=document[t(380)](t(220));let n=0;const s=setInterval((()=>{const o=t;n>=90?clearInterval(s):(n+=10*Math.random(),n>90&&(n=90),e[o(347)][o(358)]=n+"%")}),200)}async function initializeLiff(){const t=_0x4e4160;await liff[t(200)]({liffId:"2007783283-G9x63qbO",withLoginOnExternalBrowser:!0}),liff[t(376)]()?(lineProfile=await liff[t(297)](),document.getElementById(t(240))[t(218)]=lineProfile.pictureUrl,document[t(380)](t(330))[t(333)]=lineProfile.displayName,await checkIfUserIsStaff()):liff[t(356)]({redirectUri:window.location.href})}async function checkIfUserIsStaff(){const t=_0x4e4160;try{const e=await fetch("https://script.google.com/macros/s/AKfycbzvpXuZ_fX--5kKk7ZM0BlLPnDSSpu-gk48QtRoZVH9twpkT2z_xNOFxOhNCUZ2jxsqSQ/exec",{method:t(378),headers:{"Content-Type":t(246)},body:t(199)+lineProfile[t(284)]}),n=await e[t(252)]();n[t(291)]&&(isStaff=!0,staffData=n[t(336)],document[t(380)](t(288))[t(218)]=lineProfile[t(341)],document[t(380)](t(343))[t(333)]=lineProfile[t(268)],document[t(380)](t(210)).textContent=staffData.id,await loadStaffTips(),isStaff&&switchTab(t(304)))}catch(e){console[t(233)]("Error checking staff status:",e)}}async function fetchStaffList(){const t=_0x4e4160;try{document[t(380)](t(311))[t(217)]=t(280);const e=await fetch(t(355),{method:t(378),headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=getStaff"}),n=await e[t(252)]();staffList=n[t(304)]||[],staffList[t(238)]((e=>{const n=t;e.bio=e[n(270)],e[n(222)]=e[n(222)]||n(316)})),renderStaffList()}catch(e){console[t(233)](t(203),e),document[t(380)]("staffList")[t(217)]=t(342),document.getElementById(t(264))[t(299)](t(325),fetchStaffList)}}async function loadStaffTips(){const t=_0x4e4160;try{document[t(380)](t(267)).innerHTML='\n                    <div class="flex justify-center items-center py-10">\n                        <div class="loading-spinner"></div>\n                    </div>\n                ';const e=await fetch("https://script.google.com/macros/s/AKfycbzvpXuZ_fX--5kKk7ZM0BlLPnDSSpu-gk48QtRoZVH9twpkT2z_xNOFxOhNCUZ2jxsqSQ/exec",{method:t(378),headers:{"Content-Type":t(246)},body:t(373)+staffData.id}),n=await e[t(252)]();userTips=n[t(307)]||[];const s=userTips[t(198)](((e,n)=>e+parseFloat(n[t(308)])),0);document[t(380)](t(269)).textContent=s.toLocaleString()+t(375),renderTipHistory()}catch(e){console.error(t(211),e),document[t(380)](t(267))[t(217)]=t(309),document.getElementById(t(388))[t(299)](t(325),loadStaffTips)}}function renderStaffList(){const t=_0x4e4160,e=document[t(380)]("staffList");0!==staffList[t(209)]?(e.innerHTML="",staffList[t(238)](((n,s)=>{const o=t,i=document[o(261)]("div");i[o(259)]=o(260),i[o(347)][o(328)]=o(350)+.1*s+"s",i[o(365)][o(254)]=s,i[o(217)]=o(249)+(n[o(341)]||o(239))+o(204)+n[o(268)]+o(306)+n[o(268)]+'</h3>\n                        <p class="text-sm text-gray-600">'+n[o(222)]+o(331),e.appendChild(i),i[o(299)](o(325),(t=>{const e=o;createRippleEffect(t);const n=parseInt(i[e(365)][e(254)]);selectedStaff=staffList[n],openStaffProfileModal()}))}))):e[t(217)]=t(315)}function createRippleEffect(t){const e=_0x4e4160,n=t[e(277)],s=document[e(261)]("span"),o=Math[e(243)](n.clientWidth,n.clientHeight),i=o/2,a=n[e(212)]();s.className="ripple",s[e(347)][e(358)]=s[e(347)][e(273)]=o+"px",s[e(347)][e(214)]=t[e(289)]-a.left-i+"px",s[e(347)][e(292)]=t[e(248)]-a[e(292)]-i+"px",n[e(251)](s),setTimeout((()=>{s[e(255)]()}),600)}function openStaffProfileModal(){const t=_0x4e4160;document[t(380)](t(361))[t(218)]=selectedStaff[t(341)]||t(239),document[t(380)]("staffProfileDetailName").textContent=selectedStaff[t(268)],document.getElementById(t(395))[t(333)]=selectedStaff[t(222)],document[t(380)](t(201))[t(333)]=selectedStaff.bio;const e=document[t(380)](t(215));e.classList[t(255)]("hidden"),e[t(278)][t(281)](t(383));const n=document[t(380)](t(361));n[t(278)][t(281)](t(234)),setTimeout((()=>{const e=t;n[e(278)][e(255)](e(234))}),500)}function renderTipHistory(){const t=_0x4e4160,e=document[t(380)](t(267));0!==userTips[t(209)]?(e[t(217)]="",userTips[t(238)](((n,s)=>{const o=t,i=document.createElement(o(344));i.className="history-item bg-opacity-20 bg-white rounded-lg p-3 cursor-pointer opacity-0",i[o(347)][o(328)]="fadeIn 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards "+.1*s+"s",i[o(365)][o(254)]=s,i[o(217)]=o(390)+(n.tipper[o(341)]||o(239))+o(204)+n[o(329)][o(268)]+'" \n                                class="w-10 h-10 rounded-full border border-white object-cover">\n                            <div>\n                                <p class="font-medium text-white">'+n[o(329)][o(268)]+o(354)+formatDate(n[o(326)])+'</p>\n                            </div>\n                        </div>\n                        <p class="font-bold text-white">'+parseFloat(n[o(308)])[o(391)]()+o(232),e[o(251)](i),i.addEventListener("click",(()=>{const t=parseInt(i[o(365)].index);openTipDetailModal(userTips[t])}))}))):e[t(217)]=t(202)}function openTipModal(){const t=_0x4e4160;document.getElementById(t(224)).textContent=selectedStaff.displayName,document[t(380)]("selectedStaffImg")[t(218)]=selectedStaff[t(341)]||t(239),document[t(380)](t(303))[t(333)]=selectedStaff[t(272)];const e=document[t(380)](t(339));e[t(278)].remove(t(387)),e.classList[t(281)](t(383)),document[t(320)](".tip-amount")[t(238)]((e=>e[t(278)][t(255)](t(263)))),document.getElementById(t(298)).value="",selectedAmount=0;const n=document[t(380)](t(338));n.classList[t(255)](t(206)),n[t(217)]="<span>ยืนยัน</span>",isSubmitting=!1}function openTipDetailModal(t){const e=_0x4e4160;document[e(380)](e(266))[e(218)]=t.tipper[e(341)]||e(239),document[e(380)](e(242))[e(333)]=t.tipper[e(268)],document[e(380)](e(370))[e(333)]=parseFloat(t[e(308)]).toLocaleString()+e(375),document.getElementById(e(229))[e(333)]=formatDate(t.timestamp);const n=document[e(380)](e(271));n[e(278)][e(255)](e(387)),n[e(278)].add(e(383))}async function submitTip(){const t=_0x4e4160;if(!isSubmitting)if(!selectedStaff||selectedAmount<=0)showToast(t(244),t(236));else try{isSubmitting=!0;const e=document.getElementById(t(338));e[t(278)][t(281)](t(206)),e[t(217)]=t(385);const n={action:"giveTip",staffId:selectedStaff.id,staffName:selectedStaff.displayName,staffPicture:selectedStaff[t(341)],promptpay:selectedStaff[t(363)],amount:selectedAmount,tipperId:liff.getDecodedIDToken().sub,tipperName:liff[t(324)]()[t(321)],tipperPicture:liff[t(324)]()[t(359)]},s=await fetch(t(355),{method:"POST",headers:{"Content-Type":t(246)},body:new URLSearchParams(n)[t(237)]()}),o=await s.json();if(o[t(374)]){document.getElementById("tipModal")[t(278)].remove(t(383)),document[t(380)](t(339))[t(278)][t(281)](t(387)),document[t(380)](t(322))[t(333)]=selectedAmount[t(391)](),document[t(380)](t(300)).textContent=selectedStaff[t(268)],document.getElementById(t(223))[t(333)]=selectedAmount+t(375);const e=document[t(380)](t(340));e[t(278)][t(255)]("hidden"),e[t(278)][t(281)](t(383));document[t(247)](".coin").classList[t(281)]("coin-flip");sendText([JSON[t(258)](o.body)]),createConfetti()}else showToast(t(327),t(233))}catch(e){console[t(233)](t(253),e),showToast(t(327),t(233))}finally{isSubmitting=!1;const e=document[t(380)](t(338));e[t(278)][t(255)](t(206)),e.innerHTML=t(351)}}function _0x48e2(t,e){const n=_0x33a8();return(_0x48e2=function(t,e){return n[t-=198]})(t,e)}function createConfetti(){const t=_0x4e4160,e=document[t(380)](t(290));e.innerHTML="";const n=["#f9dbbd",t(256),t(302),"#9a348e","#0d0628"];for(let s=0;s<100;s++){const s=document[t(261)](t(344));s.className="confetti",s[t(347)][t(214)]=100*Math[t(296)]()+"vw",s.style[t(392)]=n[Math.floor(Math[t(296)]()*n.length)],s[t(347)][t(358)]=10*Math.random()+5+"px",s[t(347)][t(273)]=10*Math[t(296)]()+5+"px",s[t(347)][t(362)]=Math.random()+.5,s.style[t(328)]=t(313)+(3*Math[t(296)]()+2)+t(213),s[t(347)][t(377)]=5*Math[t(296)]()+"s",e.appendChild(s)}}function showToast(t,e=_0x4e4160(226)){const n=_0x4e4160,s=document[n(261)](n(344));s[n(259)]="fixed bottom-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg text-white z-50 shadow-lg scale-in",e===n(233)?s.style.backgroundColor=n(301):e===n(374)?s[n(347)][n(392)]=n(353):e===n(236)?s[n(347)][n(392)]=n(294):s[n(347)][n(392)]=n(241),s.textContent=t,document[n(314)][n(251)](s),setTimeout((()=>{const t=n;s.style[t(362)]="0",s.style.transform=t(367),s[t(347)].transition=t(382),setTimeout((()=>{s[t(255)]()}),500)}),3e3)}function switchTab(t){const e=_0x4e4160,n=document.getElementById(e(357)),s=document.getElementById(e(295)),o=document[e(380)]("customerTab"),i=document.getElementById("staffTab");"customer"===t?(s.classList[e(281)](e(387)),o[e(278)][e(281)]("active"),i[e(278)][e(255)](e(263)),setTimeout((()=>{const t=e;n[t(278)][t(255)](t(387))}),100)):(n[e(278)][e(281)](e(387)),o.classList[e(255)](e(263)),i.classList[e(281)](e(263)),setTimeout((()=>{const t=e;s[t(278)][t(255)](t(387))}),100))}function setupEventListeners(){const t=_0x4e4160;document[t(380)](t(366)).addEventListener(t(325),(()=>switchTab("customer"))),document.getElementById("staffTab").addEventListener(t(325),(()=>switchTab(t(304)))),document[t(380)](t(208))[t(299)](t(325),fetchStaffList),document[t(380)](t(349))[t(299)](t(325),loadStaffTips),document[t(320)](t(231))[t(238)]((e=>{const n=t;e[n(299)](n(325),(t=>{const s=n;createRippleEffect(t),document[s(320)](s(231))[s(238)]((t=>t[s(278)][s(255)](s(263)))),e.classList[s(281)](s(263)),selectedAmount=parseInt(e[s(365)][s(308)]),document[s(380)](s(298))[s(257)]=""}))})),document[t(380)](t(298))[t(299)](t(221),(e=>{const n=t;document[n(320)](n(231))[n(238)]((t=>t.classList[n(255)](n(263)))),selectedAmount=parseInt(e.target.value)||0})),document[t(380)](t(348))[t(299)]("click",(()=>{const e=t;document[e(380)](e(215))[e(278)][e(255)]("show"),setTimeout((()=>{const t=e;document.getElementById(t(215))[t(278)][t(281)]("hidden")}),300)})),document[t(380)](t(352))[t(299)]("click",(()=>{const e=t;document.getElementById(e(215))[e(278)][e(255)]("show"),document[e(380)](e(215))[e(278)][e(281)](e(387)),openTipModal()})),document[t(380)](t(384)).addEventListener(t(325),(()=>{const e=t;document[e(380)](e(339))[e(278)][e(255)]("show"),setTimeout((()=>{document.getElementById("tipModal").classList.add("hidden")}),300)})),document.getElementById(t(338))[t(299)]("click",submitTip),document[t(380)]("closeSuccess").addEventListener(t(325),(()=>{const e=t;document[e(380)](e(340)).classList[e(255)](e(383)),setTimeout((()=>{const t=e;document[t(380)]("successModal")[t(278)][t(281)](t(387));document[t(247)](".coin")[t(278)][t(255)](t(305))}),300)})),document[t(380)](t(230))[t(299)]("click",(()=>{const e=t;document.getElementById(e(271))[e(278)][e(255)](e(383)),setTimeout((()=>{const t=e;document[t(380)](t(271))[t(278)].add(t(387))}),300)})),document[t(320)](t(225))[t(238)]((e=>{const n=t;e[n(299)](n(325),(t=>{const s=n;t[s(279)]===e&&(e[s(278)][s(255)](s(383)),setTimeout((()=>{const t=s;e[t(278)][t(281)](t(387))}),300))}))}))}function hideLoading(){const t=_0x4e4160;document.getElementById(t(220))[t(347)][t(358)]=t(346),setTimeout((()=>{const e=t,n=document[e(380)](e(332));n[e(347)][e(362)]="0",n[e(347)][e(371)]=e(386),setTimeout((()=>{const t=e;n[t(347)][t(360)]=t(287)}),500)}),500)}function formatDate(t){const e=_0x4e4160,n=new Date(t);return new Date(parseInt(n[e(379)]()),parseInt(n[e(207)]()+1)-1,parseInt(n[e(205)]())).toLocaleDateString(e(216),{day:e(245),month:"short",year:e(245)})+" "+String(n[e(318)]())[e(345)](2,"0")+":"+String(n[e(319)]())[e(345)](2,"0")+" น."}function sendText(t){liff[_0x4e4160(389)]()?sendflex(t):shareTargetPicker(t)}function sendflex(t){const e=_0x4e4160;liff[e(235)](t)[e(293)]((function(){const t=e;Swal[t(317)]({toast:!0,position:t(369),showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{const n=t;e[n(368)]=Swal[n(276)],e[n(285)]=Swal.resumeTimer}})[t(312)]({icon:t(374),title:"ส่งเข้าแชทเรียบร้อย"})}))}function shareTargetPicker(t){const e=_0x4e4160;liff[e(337)](t)[e(293)]((function(t){const n=e;if(t){Swal[n(317)]({toast:!0,position:n(369),showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{const e=n;t[e(368)]=Swal[e(276)],t[e(285)]=Swal.resumeTimer}})[n(312)]({icon:n(374),title:n(381)})}else console[n(262)](n(364))}))[e(282)]((function(t){const n=e;window[n(393)](n(227)+t)}))}document[_0x4e4160(299)](_0x4e4160(219),(async()=>{const t=_0x4e4160;try{simulateLoadingProgress(),await initializeLiff(),await fetchStaffList(),setupEventListeners(),hideLoading()}catch(e){console[t(233)]("Initialization error:",e),alert(t(275))}}))</script>
